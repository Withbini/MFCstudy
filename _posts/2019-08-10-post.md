---
title: "8/9 랩미팅 결과 정리"
date: 2019-08-10
---
08-09 랩미팅 결과
=========================
랩미팅에서 비디오 디코더 현재 상황 발표
앞으로 각 채널별로 재생 및 일시정지할 수 있는 기능에, 이미지 버튼화,
그리고 채널이 모두 채워지지 않아도 켜진 채널은 다 돌아갈 수 있게 하는 기능
(테스트 버튼은 각 채널의 재생버튼을 모두 누르기 귀찮으니, 그걸 한번에 하자는 시나리오)등을 만들어야한다.

그리고 FPS 실험 결과 FPS100으로 4채널까지는 돌았고 FPS60으로 4채널까지 돌았으나, fps에 관계없이
채널이 3x3이 넘어가면 fps100이든 fps 60이든 fps가 떨어지는 것을 볼 수 있었다.

이것을 채널의 개수가 어떤 threshold 보다 커지면 문제가 되는 줄 알았으나,
채널의 개수보다는 전체 채널의 fps 합이 threshold로 동작할 수 있다는 이야기를 들었다.
즉, fps의 합이 threshold(여기서는 400정도)이상이면 문제가 생길 수 있을 것이다라고 말씀하셨다.
디코딩할 때 하드웨어 가속기를 사용하는데 이 하드웨어 가속기의 스펙이 GPU마다 다르고 이 하드웨어 가속기가 지원할 수 있는 역량이 
있기에 자기 능력을 넘어가면 fps drop이 발생할 수밖에 없다는 것이다.

그래서 fps를 낮춰보면 fps 드랍이 적을 것이라고 한다.
또한 현재 5x5채널에서는 CUDA 메모리가 부족하기에, gpu 스펙을 1080->1080ti로 올려서 돌려볼 수 있는지 확인해보라는 조언을 받았다.

그리고 재생,일시정지뿐 아니라, 플레이어 역할을 하고 싶으면 FFmpeg API나 windows media player API를 참고하라고 했다.


스레드 개념 공부 배경
=======================
현재 하고 있는 multichannel Video decoder에서도 MFC를 이용해 스레드를 만들고 그 스레드 마다 비디오 로드, 디코더, 렌더링을 한다.
그런데 스레드에 대한 배경이 없다보니, 코드를 봐도 이해가 잘 되지 않는다. 그래서 스레드를 좀 이해하려고 공부를 할 필요성을 느꼈다.
